<h1>My bookings</h1>
<div id="app">
  <label v-for="show in ushows">
    Movie: {show.movie}
    Theatre: {show.theatre}
    Tickets: {show.tickets}
    Time: {show.starttime}
    <img :src="'static/uploads/' + show.img" alt="Movie Image">
  </label>
</div>

<script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<script>
  new Vue({
    el: '#app',
    delimiters: ['{', '}'],
    data() {
      return {
        ushows: []
      };
    },
    created() {
      this.fetchShows();
    },
    methods: {
      fetchShows() {
        axios.get('/api/my_bookings')
          .then(response => {
            this.ushows = response.data;
          })
          .catch(error => {
            console.error(error);
          });
      }
    }
  });
</script>
